<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes" />

    <title>pb-view Demo</title>
    <!--scripts-->
    
    <script>
        // Workaround for Polymer modules under Vite: some @polymer/* packages
        // reference this Closure helper; define a no-op if absent.
        // See: https://github.com/Polymer/polymer/issues/4845
        window.JSCompiler_renameProperty = window.JSCompiler_renameProperty || function (prop, obj) { return prop; };
    </script>
    <script type="module" src="../src/pb-icon.js"></script>
    <script type="module" src="../src/docs/pb-demo-snippet.js"></script>
    <script type="module" src="../src/pb-page.js"></script>
    <script type="module" src="../src/pb-document.js"></script>
    <script type="module" src="../src/pb-view.js"></script>
    <script type="module" src="../src/pb-popover.js"></script>
    <script type="module" src="../src/pb-navigation.js"></script>
    <script type="module" src="../src/pb-progress.js"></script>
</head>

<body>
    <pb-demo-snippet>
        <template>
            <style type="text/css">
                pb-page {
                    position: relative;
                }

                #view1 {
                    height: 70vh;
                    overflow: auto;
                    display: flex;
                    justify-content: center;
                    margin-left: auto;
                    margin-right: auto;
                }

                @media (min-width: 769px) {

                    #view1,
                    footer {
                        max-width: 60vw;
                    }
                }

                footer {
                    position: relative;
                    margin-top: 10px;
                    bottom: 0;
                    background-color: #f2f2f2;
                    margin-left: auto;
                    margin-right: auto;
                }

                pb-navigation[disabled] {
                    display: block;
                    visibility: hidden;
                }

                pb-navigation[direction="forward"] {
                    float: right;
                }

                .nav-button {
                    display: inline-flex;
                    align-items: center;
                    justify-content: center;
                    width: 48px;
                    height: 48px;
                    border-radius: 50%;
                    border: none;
                    background: #35424b;
                    color: #fff;
                    cursor: pointer;
                }

                .nav-button pb-icon {
                    --pb-icon-size: 20px;
                }
            </style>
            <pb-page endpoint="/exist/apps/tei-publisher" url-path="query">
                <pb-document id="document1" path="test/kant_rvernunft_1781.TEI-P5.xml" odd="dta"></pb-document>

                <pb-progress subscribe="transcription"></pb-progress>
                <!-- Output the document title -->
                <pb-view src="document1" xpath="//teiHeader/fileDesc/titleStmt/title" subscribe="transcription"
                    view="single" static="./pb-view-static">
                    <pb-param name="header" value="short" />
                </pb-view>
                <pb-view id="view1" src="document1" view="page" append-footnotes animation subscribe="transcription"
                    emit="transcription" static="./pb-view-static"></pb-view>
                <footer>
                    <!-- Navigate to next page -->
                    <pb-navigation direction="forward" keyboard="right" subscribe="transcription" emit="transcription">
                        <span class="nav-button">
                            <pb-icon icon="icons:chevron-right"></pb-icon>
                        </span>
                    </pb-navigation>
                    <!-- Navigate to previous page -->
                    <pb-navigation direction="backward" keyboard="left" subscribe="transcription" emit="transcription">
                        <span class="nav-button">
                            <pb-icon icon="icons:chevron-left"></pb-icon>
                        </span>
                    </pb-navigation>
                </footer>
            </pb-page>
        </template>
    </pb-demo-snippet>
</body>

</html>
